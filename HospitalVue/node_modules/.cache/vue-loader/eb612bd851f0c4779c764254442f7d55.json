{"remainingRequest":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Strive\\HOS\\HospitalVue\\src\\views\\PatientList.vue?vue&type=style&index=0&id=67d2c379&scoped=true&lang=scss&","dependencies":[{"path":"E:\\Strive\\HOS\\HospitalVue\\src\\views\\PatientList.vue","mtime":1741754234957},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1689001367870},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1689001369658},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\postcss-loader\\src\\index.js","mtime":1689001368637},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1689001367224},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001367240},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001369023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVsLWNhcmQgewogIG1hcmdpbjogMjBweDsKICBib3JkZXItcmFkaXVzOiAxMnB4OwogIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOwp9CgouZWwtdGFibGUgewogIG1hcmdpbi10b3A6IDIwcHg7Cn0KCi5lbC10YWJsZSB0aCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsKICBjb2xvcjogIzMzMzsKICBmb250LXdlaWdodDogYm9sZDsKfQoKLmVsLXRhZyB7CiAgZm9udC1zaXplOiAxNHB4Owp9CgouZWwtaW5wdXQgewogIGJvcmRlci1yYWRpdXM6IDVweDsKfQoKLmVsLWJ1dHRvbiB7CiAgYm9yZGVyLXJhZGl1czogNXB4Owp9CgouZWwtcGFnaW5hdGlvbiB7CiAgbWFyZ2luOiAyMHB4IDA7Cn0K"},{"version":3,"sources":["PatientList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"PatientList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <!-- 病人列表 -->\n  <div>\n    <!-- 卡片 -->\n    <el-card shadow=\"hover\" style=\"padding: 20px;\">\n      <!-- 搜索栏 -->\n      <el-row type=\"flex\" style=\"margin-bottom: 20px;\">\n        <el-col :span=\"6\">\n          <el-input v-model=\"query\" placeholder=\"请输入姓名查询\">\n            <el-button\n              slot=\"append\"\n              icon=\"el-icon-search\"\n              @click=\"requestPatients\"\n            ></el-button>\n          </el-input>\n        </el-col>\n      </el-row>\n      <!-- 表格 -->\n      <el-table :data=\"patientData\" stripe style=\"width: 100%\" border>\n        <el-table-column prop=\"pId\" label=\"账号\" width=\"100\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"pName\" label=\"姓名\" width=\"100\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"pGender\" label=\"性别\" width=\"80\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"pAge\" label=\"年龄/岁\" width=\"80\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"pCard\" label=\"证件号\" width=\"180\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"pPhone\" label=\"手机号\" width=\"120\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"pEmail\" label=\"邮箱\" width=\"170\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"pState\" label=\"状态\" width=\"80\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tag type=\"success\" v-if=\"scope.row.pState === 1\">正常</el-tag>\n            <el-tag type=\"danger\" v-else>已删除</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"180\" fixed=\"right\" align=\"center\" >\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"danger\"\n              style=\"height: 40px\"\n              icon=\"el-icon-delete\"\n              @click=\"deleteDialog(scope.row.pId)\"\n              size=\"small\"\n            ></el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页 -->\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        background\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :current-page=\"pageNumber\"\n        :page-size=\"size\"\n        :page-sizes=\"[1, 2, 4, 8, 16]\"\n        :total=\"total\"\n        style=\"margin-top: 20px;\"\n      >\n      </el-pagination>\n    </el-card>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.el-card {\n  margin: 20px;\n  border-radius: 12px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.el-table {\n  margin-top: 20px;\n}\n\n.el-table th {\n  background-color: #f5f5f5;\n  color: #333;\n  font-weight: bold;\n}\n\n.el-tag {\n  font-size: 14px;\n}\n\n.el-input {\n  border-radius: 5px;\n}\n\n.el-button {\n  border-radius: 5px;\n}\n\n.el-pagination {\n  margin: 20px 0;\n}\n</style>\n\n<script>\nimport request from \"@/utils/request.js\";\nexport default {\n  name: \"PatientList\",\n  data() {\n    return {\n      pageNumber: 1,\n      size: 8,\n      query: \"\",\n      patientData: [],\n      total: 3,\n    };\n  },\n  methods: {\n    //删除病人操作\n    deletePatient(id) {\n      request\n        .get(\"admin/deletePatient\", {\n          params: {\n            pId: id,\n          },\n        })\n        .then((res) => {\n          this.requestPatients();\n          console.log(res);\n        });\n    },\n    //删除对话框\n    deleteDialog(id) {\n      this.$confirm(\"此操作将删除该患者信息, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.deletePatient(id);\n          this.$message({\n            type: \"success\",\n            message: \"删除成功!\",\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\",\n          });\n        });\n    },\n    //页面大小改变时触发\n    handleSizeChange(size) {\n      this.size = size;\n      this.requestPatients();\n    },\n    //   页码改变时触发\n    handleCurrentChange(num) {\n      console.log(num);\n      this.pageNumber = num;\n      this.requestPatients();\n    },\n    // 加载患者列表\n    requestPatients() {\n      request\n        .get(\"admin/findAllPatients\", {\n          params: {\n            pageNumber: this.pageNumber,\n            size: this.size,\n            query: this.query,\n          },\n        })\n        .then((res) => {\n          this.patientData = res.data.data.patients;\n\n          this.total = res.data.data.total;\n          console.log(res.data.data);\n        });\n    },\n  },\n  created() {\n    this.requestPatients();\n  },\n};\n</script>"]}]}