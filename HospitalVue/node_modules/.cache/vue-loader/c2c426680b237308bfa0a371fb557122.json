{"remainingRequest":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Strive\\HOS\\HospitalVue\\src\\views\\ArrangeDoctor.vue?vue&type=style&index=0&id=776e8aa1&scoped=true&lang=scss&","dependencies":[{"path":"E:\\Strive\\HOS\\HospitalVue\\src\\views\\ArrangeDoctor.vue","mtime":1741750006683},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1689001367870},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1689001369658},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\postcss-loader\\src\\index.js","mtime":1689001368637},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1689001367224},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001367240},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001369023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5hcnJhbmdlLWNvbnRhaW5lciB7CiAgcGFkZGluZzogMjRweDsKICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBib3gtc2hhZG93OiAwIDJweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7CgogIC5uYXZpZ2F0aW9uLWJhciB7CiAgICBtYXJnaW4tYm90dG9tOiAyNHB4OwoKICAgIC5icmVhZGNydW1iLWxpbmsgewogICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgIGNvbG9yOiAjOTA5Mzk5OwogICAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjNzOwoKICAgICAgJjpob3ZlciB7CiAgICAgICAgY29sb3I6ICQtLWNvbG9yLXByaW1hcnk7CiAgICAgIH0KCiAgICAgIC5lbC1pY29uLWJhY2sgewogICAgICAgIG1hcmdpbi1yaWdodDogNnB4OwogICAgICB9CiAgICB9CgogICAgLmN1cnJlbnQtc2VjdGlvbiB7CiAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgY29sb3I6ICQtLWNvbG9yLXByaW1hcnk7CiAgICB9CiAgfQoKICAuc2VhcmNoLWJveCB7CiAgICBtYXJnaW4tYm90dG9tOiAyNHB4OwoKICAgIC5zZWFyY2gtaW5wdXQgewogICAgICB3aWR0aDogMzIwcHg7CgogICAgICA6OnYtZGVlcCAuZWwtaW5wdXRfX2lubmVyIHsKICAgICAgICBib3JkZXItcmFkaXVzOiAyMHB4OwogICAgICAgIHBhZGRpbmctcmlnaHQ6IDQwcHg7CiAgICAgIH0KCiAgICAgIC5zZWFyY2gtYnRuIHsKICAgICAgICBwYWRkaW5nOiAwIDE1cHg7CiAgICAgICAgYm9yZGVyLXJhZGl1czogMCAyMHB4IDIwcHggMDsKICAgICAgICBiYWNrZ3JvdW5kOiAkLS1jb2xvci1wcmltYXJ5OwogICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKCiAgICAgICAgJjpob3ZlciB7CiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaWdodGVuKCQtLWNvbG9yLXByaW1hcnksIDUlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIC5kb2N0b3ItdGFibGUgewogICAgbWFyZ2luLWJvdHRvbTogMjRweDsKCiAgICA6OnYtZGVlcCAuZWwtdGFibGVfX3JvdyB7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwoKICAgICAgJjpob3ZlciB7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICAgIH0KICAgIH0KCiAgICAub3BlcmF0aW9uLWJ0biB7CiAgICAgIHBhZGRpbmc6IDhweCAxMnB4OwogICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgIGZvbnQtc2l6ZTogMTNweDsKICAgIH0KICB9CgogIC5wYWdpbmF0aW9uLWJveCB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKCiAgICAuc21hcnQtcGFnaW5hdGlvbiB7CiAgICAgIDo6di1kZWVwIC5idG4tcHJldiwKICAgICAgOjp2LWRlZXAgLmJ0bi1uZXh0IHsKICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgcGFkZGluZzogMCAxMHB4OwogICAgICB9CgogICAgICA6OnYtZGVlcCAuZWwtcGFnZXIgbGkgewogICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICBtYXJnaW46IDAgM3B4OwogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ArrangeDoctor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ArrangeDoctor.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"arrange-container\">\n    <!-- 面包屑导航 -->\n    <div class=\"navigation-bar\">\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/sectionIndex' }\" class=\"breadcrumb-link\">\n          <i class=\"el-icon-back\"></i>返回科室列表\n        </el-breadcrumb-item>\n        <el-breadcrumb-item class=\"current-section\">{{ section }}</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n\n    <!-- 搜索区域 -->\n    <div class=\"search-box\">\n      <el-input\n        v-model=\"query\"\n        placeholder=\"请输入医生姓名查询\"\n        class=\"search-input\"\n        clearable\n      >\n        <el-button\n          slot=\"append\"\n          icon=\"el-icon-search\"\n          @click=\"requestDoctors\"\n          class=\"search-btn\"\n        ></el-button>\n      </el-input>\n    </div>\n\n    <!-- 医生表格 -->\n    <el-table\n      :data=\"doctorData\"\n      border\n      stripe\n      class=\"doctor-table\"\n      :header-cell-style=\"{background: '#f5f7fa', color: '#606266'}\"\n    >\n      <el-table-column label=\"账号\" prop=\"dId\" align=\"center\" width=\"120\"></el-table-column>\n      <el-table-column label=\"姓名\" prop=\"dName\" align=\"center\"></el-table-column>\n      <el-table-column label=\"性别\" prop=\"dGender\" align=\"center\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <el-tag\n            :type=\"scope.row.dGender === '男' ? 'primary' : 'danger'\"\n            effect=\"plain\"\n          >\n            {{ scope.row.dGender }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"职位\" prop=\"dPost\" align=\"center\"></el-table-column>\n      <el-table-column label=\"部门\" prop=\"dSection\" align=\"center\"></el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <el-button\n            v-if=\"scope.row.arrangeId == null\"\n            type=\"primary\"\n            icon=\"el-icon-date\"\n            size=\"small\"\n            @click=\"arrangeClick(scope.row.dId)\"\n            class=\"operation-btn\"\n          >排班</el-button>\n          <el-button\n            v-if=\"scope.row.arrangeId != null\"\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            size=\"small\"\n            @click=\"deleteArrange(scope.row.arrangeId)\"\n            class=\"operation-btn\"\n          >取消排班</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div class=\"pagination-box\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        background\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :current-page=\"pageNumber\"\n        :page-size=\"size\"\n        :page-sizes=\"[8, 16, 24, 32]\"\n        :total=\"total\"\n        class=\"smart-pagination\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.arrange-container {\n  padding: 24px;\n  background: #ffffff;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);\n\n  .navigation-bar {\n    margin-bottom: 24px;\n\n    .breadcrumb-link {\n      font-size: 14px;\n      color: #909399;\n      transition: color 0.3s;\n\n      &:hover {\n        color: $--color-primary;\n      }\n\n      .el-icon-back {\n        margin-right: 6px;\n      }\n    }\n\n    .current-section {\n      font-size: 16px;\n      font-weight: 500;\n      color: $--color-primary;\n    }\n  }\n\n  .search-box {\n    margin-bottom: 24px;\n\n    .search-input {\n      width: 320px;\n\n      ::v-deep .el-input__inner {\n        border-radius: 20px;\n        padding-right: 40px;\n      }\n\n      .search-btn {\n        padding: 0 15px;\n        border-radius: 0 20px 20px 0;\n        background: $--color-primary;\n        color: white;\n        transition: all 0.3s;\n\n        &:hover {\n          background: lighten($--color-primary, 5%);\n        }\n      }\n    }\n  }\n\n  .doctor-table {\n    margin-bottom: 24px;\n\n    ::v-deep .el-table__row {\n      transition: all 0.3s;\n\n      &:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n      }\n    }\n\n    .operation-btn {\n      padding: 8px 12px;\n      border-radius: 4px;\n      font-size: 13px;\n    }\n  }\n\n  .pagination-box {\n    display: flex;\n    justify-content: flex-end;\n\n    .smart-pagination {\n      ::v-deep .btn-prev,\n      ::v-deep .btn-next {\n        border-radius: 4px;\n        padding: 0 10px;\n      }\n\n      ::v-deep .el-pager li {\n        border-radius: 4px;\n        margin: 0 3px;\n      }\n    }\n  }\n}\n</style>\n\n<script>\nimport request from \"@/utils/request.js\";\nexport default {\n  name: \"ArrangeDoctor\",\n  data() {\n    return {\n      section: this.$route.query.section,\n      doctorData: [],\n      total: 3,\n      pageNumber: 1,\n      size: 8,\n      query: \"\",\n    };\n  },\n  methods: {\n    //排班点击\n    arrangeClick(dId) {\n      request\n        .get(\"arrange/addArrange\", {\n          params: {\n            arId: dId + sessionStorage.getItem(\"arrangeDate\"),\n            arTime: sessionStorage.getItem(\"arrangeDate\"),\n            dId: dId,\n          },\n        })\n        .then((res) => {\n          if (res.data.status !== 200)\n            return this.$message.error(\"已排班\");\n          this.$message.success(\"排班成功！\");\n          this.requestDoctors();\n        });\n    },\n    deleteArrange(arrangeId) {\n      request\n        .get(\"arrange/deleteArrange\", {\n          params: {\n            arId: arrangeId,\n          },\n        })\n        .then((res) => {\n          if (res.data.status !== 200)\n            return this.$message.error(\"排班信息不存在\");\n          this.$message.success(\"删除排班信息成功！\");\n          this.requestDoctors();\n        });\n    },\n    //页面大小改变时触发\n    handleSizeChange(size) {\n      this.size = size;\n      this.requestDoctors();\n    },\n    //   页码改变时触发\n    handleCurrentChange(num) {\n      console.log(num);\n      this.pageNumber = num;\n      this.requestDoctors();\n    },\n    //根据部门请求医生信息\n    requestDoctors() {\n      request\n        .get(\"doctor/findDoctorBySectionPage\", {\n          params: {\n            pageNumber: this.pageNumber,\n            size: this.size,\n            query: this.query,\n            dSection: this.section,\n            arrangeDate: sessionStorage.getItem(\"arrangeDate\"),\n          },\n        })\n        .then((res) => {\n          console.log(res.data);\n          if (res.data.status !== 200)\n            return this.$message.error(\"数据请求失败\");\n          this.doctorData = res.data.data.doctors;\n          this.total = res.data.data.total;\n        });\n    },\n  },\n  created() {\n    this.requestDoctors();\n  },\n};\n</script>"]}]}