{"remainingRequest":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Strive\\HOS\\HospitalVue\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Strive\\HOS\\HospitalVue\\src\\views\\Login.vue","mtime":1741599779766},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001367240},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1689001368654},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001367240},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001369023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdC5qcyI7CmltcG9ydCB7IHNldFRva2VuIH0gZnJvbSAiQC91dGlscy9zdG9yYWdlLmpzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGEoKSB7CiAgICAvLyDnlJ/miJDpmo/mnLrpqozor4HnoIEKICAgIGNvbnN0IGdlbmVyYXRlQ2FwdGNoYSA9ICgpID0+IHsKICAgICAgY29uc3QgY2hhcnMgPSAnQUJDREVGR0hKS01OUFFSU1RXWFlaYWJjZGVmaGlqa21ucHJzdHd4eXoyMzQ1Njc4JzsKICAgICAgbGV0IGNhcHRjaGEgPSAnJzsKICAgICAgZm9yKGxldCBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICAgIGNhcHRjaGEgKz0gY2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkpOwogICAgICB9CiAgICAgIHJldHVybiBjYXB0Y2hhOwogICAgfTsKCiAgICAvLyDpqozor4HnoIHmoKHpqozop4TliJkKICAgIGNvbnN0IHZhbGlkYXRlQ2FwdGNoYSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl6aqM6K+B56CBJykpOwogICAgICB9IGVsc2UgaWYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgIT09IHRoaXMuZ2VuZXJhdGVkQ2FwdGNoYS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfpqozor4HnoIHkuI3mraPnoa4nKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgdmFsaWRhdGVNb2JsaWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXmiYvmnLrlj7ciKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IHJlZyA9IC9eMSgzWzAtOV18NFs1LDddfDVbMCwxLDIsMyw1LDYsNyw4LDldfDZbMiw1LDYsN118N1swLDEsNyw4XXw4WzAtOV18OVsxLDgsOV0pXGR7OH0kLzsKICAgICAgICBpZiAoIXJlZy50ZXN0KHZhbHVlKSkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXlkIjms5XnmoTmiYvmnLrlj7ciKSk7CiAgICAgICAgfQogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CiAgICB2YXIgdmFsaWRhdGVDYXJkID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl6Lqr5Lu96K+B5Y+3IikpOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCByZWcgPSAvKF5cZHsxNX0kKXwoXlxkezE4fSQpfCheXGR7MTd9KFxkfFh8eCkkKS87CiAgICAgICAgaWYgKCFyZWcudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5ZCI5rOV55qE6Lqr5Lu96K+B5Y+356CBIikpOwogICAgICAgIH0KICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgdmFyIHZhbGlkYXRlUGFzcyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLmZpbmRGb3JtLmNoZWNrUGFzc3dvcmQgIT09ICIiKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLmZpbmRGb3JtLnZhbGlkYXRlRmllbGQoImNoZWNrUGFzc3dvcmQiKTsKICAgICAgICB9CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIHZhciB2YWxpZGF0ZVBhc3MyID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodmFsdWUgPT09ICIiKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7flho3mrKHovpPlhaXlr4bnoIEiKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHRoaXMuZmluZEZvcm0ubmV3UGFzc3dvcmQpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuS4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtCEiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIHJldHVybiB7CiAgICAgIC8vIOeUn+aIkOWIneWni+mqjOivgeeggQogICAgICBnZW5lcmF0ZWRDYXB0Y2hhOiBnZW5lcmF0ZUNhcHRjaGEoKSwKICAgICAgLy/og4zmma/lm77niYcKICAgICAgYmFja2dyb3VuZERpdjogewogICAgICAgIGJhY2tncm91bmRJbWFnZTogInVybCgiICsgcmVxdWlyZSgiLi4vYXNzZXRzL2RvY3Rvci5qcGciKSArICIpIiwKICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiAibm8tcmVwZWF0IiwKICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogIjEwMCUgMTAwJSIKICAgICAgfSwKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgaWQ6ICIyMDI1MDEiLAogICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iLAogICAgICAgIGNhcHRjaGE6ICIiCiAgICAgIH0sCiAgICAgIGxvZ2luUnVsZXM6IHsKICAgICAgICBpZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpei0puWPt+e8luWPtyIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgeyBtaW46IDMsIG1heDogNTAsIG1lc3NhZ2U6ICLplb/luqblnKggM+WIsCA1MCDkuKrlrZfnrKYiLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmQ6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5a+G56CBIiwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIGNhcHRjaGE6IFsKICAgICAgICAgIHsgdmFsaWRhdG9yOiB2YWxpZGF0ZUNhcHRjaGEsIHRyaWdnZXI6ICJibHVyIiB9XQogICAgICB9LAogICAgICByb2xlOiAi5oKj6ICFIiwKICAgICAgZmluZFJvbGU6ICLmgqPogIUiLAogICAgICAvL+aJvuWbnuWvhueggQogICAgICBmaW5kRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBmaW5kRm9ybTogewogICAgICAgIGNvZGU6ICIiLAogICAgICAgIG5ld1Bhc3N3b3JkOiAiIiwKICAgICAgICBjaGVja1Bhc3N3b3JkOiAiIiwKICAgICAgICBwRW1haWw6ICIiCiAgICAgIH0sCgogICAgICBmaW5kUnVsZXM6IHsKICAgICAgICBwRW1haWw6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXpgq7nrrHlnLDlnYAiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdHlwZTogImVtYWlsIiwKICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeato+ehrueahOmCrueuseWcsOWdgCIsCiAgICAgICAgICAgIHRyaWdnZXI6IFsiYmx1ciIsICJjaGFuZ2UiXQogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgY29kZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXpqozor4HnoIEiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgICAgbmV3UGFzc3dvcmQ6IFt7IHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgICAgY2hlY2tQYXNzd29yZDogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MyLCB0cmlnZ2VyOiAiYmx1ciIgfV0KICAgICAgfSwKICAgICAgdG90YWxUaW1lOiA2MCwKICAgICAgY29udGVudDogIuWPkemAgemqjOivgeeggSIsCiAgICAgIGNhbkNsaWNrOiB0cnVlLAogICAgICAvL+azqOWGjAogICAgICByZWdpc3RlckZvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgcmVnaXN0ZXJGb3JtOiB7CiAgICAgICAgcEdlbmRlcjogIueUtyIKICAgICAgfSwKICAgICAgcmVnaXN0ZXJSdWxlczogewogICAgICAgIHBJZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpei0puWPtyIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgeyB0eXBlOiAibnVtYmVyIiwgbWVzc2FnZTogIui0puWPt+W/hemhu+aVsOWtl+exu+WeiyIsIHRyaWdnZXI6ICJibHVyIiB9CiAgICAgICAgXSwKICAgICAgICBwUGFzc3dvcmQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXlr4bnoIEiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsgbWluOiA0LCBtYXg6IDUwLCBtZXNzYWdlOiAi6ZW/5bqm5ZyoIDTliLAgNTAg5Liq5a2X56ymIiwgdHJpZ2dlcjogImJsdXIiIH0KICAgICAgICBdLAogICAgICAgIHBOYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5aeT5ZCNIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7IG1pbjogMiwgbWF4OiA4LCBtZXNzYWdlOiAi6ZW/5bqm5ZyoIDLliLAgOCDkuKrlrZfnrKYiLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0sCiAgICAgICAgcEVtYWlsOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6YKu566xIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJlbWFpbCIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmraPnoa7nmoTpgq7nrrHlnLDlnYAiLAogICAgICAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCAiY2hhbmdlIl0KICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIHBQaG9uZTogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZU1vYmxpZSB9XSwKICAgICAgICBwQ2FyZDogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZUNhcmQgfV0sCiAgICAgICAgcEJpcnRoZGF5OiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6YCJ5oup5Ye655Sf5pel5pyfIiwgdHJpZ2dlcjogImJsdXIiIH0KICAgICAgICBdCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliLfmlrDpqozor4HnoIEKICAgIHJlZnJlc2hDYXB0Y2hhKCkgewogICAgICB0aGlzLmdlbmVyYXRlZENhcHRjaGEgPSB0aGlzLmdlbmVyYXRlQ2FwdGNoYSgpOwogICAgfSwKCiAgICAvLyDnlJ/miJDpqozor4HnoIHmlrnms5UKICAgIGdlbmVyYXRlQ2FwdGNoYSgpIHsKICAgICAgY29uc3QgY2hhcnMgPSAnQUJDREVGR0hKS01OUFFSU1RXWFlaYWJjZGVmaGlqa21ucHJzdHd4eXoyMzQ1Njc4JzsKICAgICAgbGV0IGNhcHRjaGEgPSAnJzsKICAgICAgZm9yKGxldCBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICAgIGNhcHRjaGEgKz0gY2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkpOwogICAgICB9CiAgICAgIHJldHVybiBjYXB0Y2hhOwogICAgfSwKCiAgICAvL+eCueWHu+azqOWGjOehruiupOaMiemSrgogICAgcmVnaXN0ZXJDbGljayhmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICByZXF1ZXN0CiAgICAgICAgICAgIC5nZXQoInBhdGllbnQvYWRkUGF0aWVudCIsIHsKICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgIHBJZDogdGhpcy5yZWdpc3RlckZvcm0ucElkLAogICAgICAgICAgICAgICAgcE5hbWU6IHRoaXMucmVnaXN0ZXJGb3JtLnBOYW1lLAogICAgICAgICAgICAgICAgcFBhc3N3b3JkOiB0aGlzLnJlZ2lzdGVyRm9ybS5wUGFzc3dvcmQsCiAgICAgICAgICAgICAgICBwR2VuZGVyOiB0aGlzLnJlZ2lzdGVyRm9ybS5wR2VuZGVyLAogICAgICAgICAgICAgICAgcEVtYWlsOiB0aGlzLnJlZ2lzdGVyRm9ybS5wRW1haWwsCiAgICAgICAgICAgICAgICBwUGhvbmU6IHRoaXMucmVnaXN0ZXJGb3JtLnBQaG9uZSwKICAgICAgICAgICAgICAgIHBDYXJkOiB0aGlzLnJlZ2lzdGVyRm9ybS5wQ2FyZCwKICAgICAgICAgICAgICAgIHBCaXJ0aGRheTogdGhpcy5yZWdpc3RlckZvcm0ucEJpcnRoZGF5CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLotKblj7fmiJbpgq7nrrHlt7LooqvljaDnlKjvvIEiKTsKICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuazqOWGjOaIkOWKn++8gSIpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeCueWHu+aJvuWbnuWvhueggeehruiupOaMiemSrgogICAgZmluZFBhc3N3b3JkKGZpbmRGb3JtKSB7CiAgICAgIHRoaXMuJHJlZnNbZmluZEZvcm1dLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIC8v5aaC5p6c5piv6YCJ5Lit5oKj6ICFCiAgICAgICAgICBpZiAodGhpcy5maW5kUm9sZSA9PT0gIuaCo+iAhSIpIHsKICAgICAgICAgICAgcmVxdWVzdAogICAgICAgICAgICAgIC5nZXQoInBhdGllbnQvZmluZFBhc3N3b3JkIiwgewogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgIHBFbWFpbDogdGhpcy5maW5kRm9ybS5wRW1haWwsCiAgICAgICAgICAgICAgICAgIHBQYXNzd29yZDogdGhpcy5maW5kRm9ybS5uZXdQYXNzd29yZCwKICAgICAgICAgICAgICAgICAgY29kZTogdGhpcy5maW5kRm9ybS5jb2RlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPT0gMjAwKQogICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6aqM6K+B56CB6ZSZ6K+v5oiW6ICF5bey6L+H5pyf77yB77yB77yBIik7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWvhueggeS/ruaUueaIkOWKn++8ge+8geivt+eZu+W9lSIpOwogICAgICAgICAgICAgICAgdGhpcy5maW5kRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIC8v5aaC5p6c5piv6YCJ5Lit566h55CG5ZGYCiAgICAgICAgICBpZiAodGhpcy5maW5kUm9sZSA9PT0gIueuoeeQhuWRmCIpIHsKICAgICAgICAgICAgcmVxdWVzdAogICAgICAgICAgICAgIC5nZXQoImFkbWluL2ZpbmRQYXNzd29yZCIsIHsKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICBhRW1haWw6IHRoaXMuZmluZEZvcm0ucEVtYWlsLAogICAgICAgICAgICAgICAgICBhUGFzc3dvcmQ6IHRoaXMuZmluZEZvcm0ubmV3UGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgIGNvZGU6IHRoaXMuZmluZEZvcm0uY29kZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIumqjOivgeeggemUmeivr+aIluiAheW3sui/h+acn++8ge+8ge+8gSIpOwogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlr4bnoIHkv67mlLnmiJDlip/vvIHvvIHor7fnmbvlvZUiKTsKICAgICAgICAgICAgICAgIHRoaXMuZmluZEZvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICAvL+WmguaenOaYr+mAieS4reaCo+iAhQogICAgICAgICAgaWYgKHRoaXMuZmluZFJvbGUgPT09ICLljLvnlJ8iKSB7CiAgICAgICAgICAgIHJlcXVlc3QKICAgICAgICAgICAgICAuZ2V0KCJkb2N0b3IvZmluZFBhc3N3b3JkIiwgewogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgIGRFbWFpbDogdGhpcy5maW5kRm9ybS5wRW1haWwsCiAgICAgICAgICAgICAgICAgIGRQYXNzd29yZDogdGhpcy5maW5kRm9ybS5uZXdQYXNzd29yZCwKICAgICAgICAgICAgICAgICAgY29kZTogdGhpcy5maW5kRm9ybS5jb2RlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPT0gMjAwKQogICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6aqM6K+B56CB6ZSZ6K+v5oiW6ICF5bey6L+H5pyf77yB77yB77yBIik7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWvhueggeS/ruaUueaIkOWKn++8ge+8geivt+eZu+W9lSIpOwogICAgICAgICAgICAgICAgdGhpcy5maW5kRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+eCueWHu+WPkemAgemqjOivgeeggeaMiemSrgogICAgc2VuZEVtYWlsKCkgewogICAgICAvL+WAkuiuoeaXtgogICAgICBpZiAoIXRoaXMuY2FuQ2xpY2spIHJldHVybjsgLy/mlLnliqjnmoTmmK/ov5nkuKTooYzku6PnoIEKICAgICAgdGhpcy5jYW5DbGljayA9IGZhbHNlOwogICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLnRvdGFsVGltZSArICJz5ZCO6YeN5paw5Y+R6YCBIjsKICAgICAgbGV0IGNsb2NrID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHsKICAgICAgICB0aGlzLnRvdGFsVGltZS0tOwogICAgICAgIHRoaXMuY29udGVudCA9IHRoaXMudG90YWxUaW1lICsgInPlkI7ph43mlrDlj5HpgIEiOwogICAgICAgIGlmICh0aGlzLnRvdGFsVGltZSA8IDApIHsKICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGNsb2NrKTsKICAgICAgICAgIHRoaXMuY29udGVudCA9ICLph43mlrDlj5HpgIHpqozor4HnoIEiOwogICAgICAgICAgdGhpcy50b3RhbFRpbWUgPSAxMDsKICAgICAgICAgIHRoaXMuY2FuQ2xpY2sgPSB0cnVlOyAvL+i/memHjOmHjeaWsOW8gOWQrwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CgogICAgICAvL+WmguaenOaYr+mAieS4reaCo+iAhQogICAgICBpZiAodGhpcy5maW5kUm9sZSA9PT0gIuaCo+iAhSIpIHsKICAgICAgICByZXF1ZXN0CiAgICAgICAgICAuZ2V0KCJwYXRpZW50L3NlbmRFbWFpbCIsIHsKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgcEVtYWlsOiB0aGlzLmZpbmRGb3JtLnBFbWFpbAogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5maW5kRm9ybS5wRW1haWwpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzICE9PSAyMDApCiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivpemCrueuseaaguacquazqOWGjO+8geivt+WFiOazqOWGjO+8gSIpOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIumqjOivgeeggeWPkemAgeaIkOWKn++8gSIpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy/lpoLmnpzmmK/pgInkuK3nrqHnkIblkZgKICAgICAgaWYgKHRoaXMuZmluZFJvbGUgPT09ICLnrqHnkIblkZgiKSB7CiAgICAgICAgcmVxdWVzdAogICAgICAgICAgLmdldCgiYWRtaW4vc2VuZEVtYWlsIiwgewogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICBhRW1haWw6IHRoaXMuZmluZEZvcm0ucEVtYWlsCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbmRGb3JtLnBFbWFpbCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkKICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+l6YKu566x5pqC5pyq5rOo5YaM77yB6K+35YWI5rOo5YaM77yBIik7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi6aqM6K+B56CB5Y+R6YCB5oiQ5Yqf77yBIik7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgICAvL+WmguaenOaYr+mAieS4reWMu+eUnwogICAgICBpZiAodGhpcy5maW5kUm9sZSA9PT0gIuWMu+eUnyIpIHsKICAgICAgICByZXF1ZXN0CiAgICAgICAgICAuZ2V0KCJkb2N0b3Ivc2VuZEVtYWlsIiwgewogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICBkRW1haWw6IHRoaXMuZmluZEZvcm0ucEVtYWlsCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbmRGb3JtLnBFbWFpbCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkKICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+l6YKu566x5pqC5pyq5rOo5YaM77yB6K+35YWI5rOo5YaM77yBIik7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi6aqM6K+B56CB5Y+R6YCB5oiQ5Yqf77yBIik7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8v5o+Q5Lqk6KGo5Y2VCiAgICBzdWJtaXRMb2dpbkZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKHRoaXMucm9sZSA9PT0gIueuoeeQhuWRmCIpIHsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsKICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgiYUlkIiwgdGhpcy5sb2dpbkZvcm0uaWQpOwogICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCJhUGFzc3dvcmQiLCB0aGlzLmxvZ2luRm9ybS5wYXNzd29yZCk7CgogICAgICAgICAgICByZXF1ZXN0CiAgICAgICAgICAgICAgLnBvc3QoImFkbWluL2xvZ2luIiwgcGFyYW1zKQogICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPSAyMDApCiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLnlKjmiLflkI3miJblr4bnoIHplJnor68iKTsKICAgICAgICAgICAgICAgIHNldFRva2VuKHJlcy5kYXRhLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9hZG1pbkxheW91dCIpOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLnlKjmiLflkI3miJblr4bnoIHplJnor68iKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLnJvbGUgPT09ICLljLvnlJ8iKSB7CiAgICAgICAgICAgIHZhciBwYXJhbXMxID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICAgICAgICBwYXJhbXMxLmFwcGVuZCgiZElkIiwgdGhpcy5sb2dpbkZvcm0uaWQpOwogICAgICAgICAgICBwYXJhbXMxLmFwcGVuZCgiZFBhc3N3b3JkIiwgdGhpcy5sb2dpbkZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgcmVxdWVzdAogICAgICAgICAgICAgIC5wb3N0KCJkb2N0b3IvbG9naW4iLCBwYXJhbXMxKQogICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPSAyMDApCiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLnlKjmiLflkI3miJblr4bnoIHplJnor68iKTsKICAgICAgICAgICAgICAgIHNldFRva2VuKHJlcy5kYXRhLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9kb2N0b3JMYXlvdXQiKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+vIik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5yb2xlID09PSAi5oKj6ICFIikgewogICAgICAgICAgICB2YXIgcGFyYW1zMiA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsKICAgICAgICAgICAgcGFyYW1zMi5hcHBlbmQoInBJZCIsIHRoaXMubG9naW5Gb3JtLmlkKTsKICAgICAgICAgICAgcGFyYW1zMi5hcHBlbmQoInBQYXNzd29yZCIsIHRoaXMubG9naW5Gb3JtLnBhc3N3b3JkKTsKCiAgICAgICAgICAgIHJlcXVlc3QKICAgICAgICAgICAgICAucG9zdCgicGF0aWVudC9sb2dpbiIsIHBhcmFtczIpCiAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzICE9IDIwMCkKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIueUqOaIt+WQjeaIluWvhueggemUmeivryIpOwogICAgICAgICAgICAgICAgc2V0VG9rZW4ocmVzLmRhdGEuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3BhdGllbnRMYXlvdXQiKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+vIik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBzdWJtaXQhISIpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5yZWZyZXNoQ2FwdGNoYSgpOwogIH0KfTsK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login-wrap\">\n    <div class=\"login-container\">\n      <div class=\"login-image\">\n        <img src=\"@/assets/17.png\" alt=\"医疗平台\" class=\"login-img\">\n      </div>\n      <div class=\"login-form\">\n        <el-form :model=\"loginForm\" :rules=\"loginRules\" ref=\"ruleForm\">\n          <h2 class=\"login-title\">智慧医疗信息平台</h2>\n\n          <!-- 用户名输入 -->\n          <el-form-item prop=\"id\">\n            <el-input v-model=\"loginForm.id\" placeholder=\"请输入账号\">\n              <i slot=\"prefix\" class=\"el-icon-user\"></i>\n            </el-input>\n          </el-form-item>\n\n          <!-- 密码输入 -->\n          <el-form-item prop=\"password\">\n            <el-input\n              v-model=\"loginForm.password\"\n              type=\"password\"\n              placeholder=\"请输入密码\"\n              show-password>\n              <i slot=\"prefix\" class=\"el-icon-lock\"></i>\n            </el-input>\n          </el-form-item>\n\n          <!-- 新增验证码 -->\n          <el-form-item prop=\"captcha\">\n            <div class=\"captcha-container\">\n              <el-input\n                v-model=\"loginForm.captcha\"\n                placeholder=\"请输入验证码\"\n                style=\"width: 60%\">\n                <i slot=\"prefix\" class=\"el-icon-key\"></i>\n              </el-input>\n              <div class=\"captcha-img\" @click=\"refreshCaptcha\">\n                {{ generatedCaptcha }}\n              </div>\n            </div>\n          </el-form-item>\n\n          <!-- 角色选择 -->\n          <el-form-item class=\"role-group\">\n            <el-radio-group v-model=\"role\" size=\"small\">\n              <el-radio-button label=\"患者\"></el-radio-button>\n              <el-radio-button label=\"医生\"></el-radio-button>\n              <el-radio-button label=\"管理员\"></el-radio-button>\n            </el-radio-group>\n          </el-form-item>\n\n          <!-- 登录按钮 -->\n          <el-form-item>\n            <el-button\n              type=\"primary\"\n              class=\"login-btn\"\n              @click=\"submitLoginForm('ruleForm')\">\n              登 录\n            </el-button>\n          </el-form-item>\n\n          <div class=\"login-footer\">\n            <span class=\"register-link\" @click=\"registerFormVisible = true\">\n              没有账号？立即注册\n            </span>\n          </div>\n        </el-form>\n      </div>\n    </div>\n    <!-- 注册对话框 -->\n    <el-dialog title=\"患者注册\" :visible.sync=\"registerFormVisible\">\n      <el-form\n        class=\"findPassword\"\n        :model=\"registerForm\"\n        :rules=\"registerRules\"\n        ref=\"registerForm\"\n      >\n        <el-form-item label=\"账号\" label-width=\"80px\" prop=\"pId\">\n          <el-input v-model.number=\"registerForm.pId\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"性别\" label-width=\"80px\">\n          <el-radio v-model=\"registerForm.pGender\" label=\"男\">男</el-radio>\n          <el-radio v-model=\"registerForm.pGender\" label=\"女\">女</el-radio>\n        </el-form-item>\n        <el-form-item label=\"密码\" label-width=\"80px\" prop=\"pPassword\">\n          <el-input v-model=\"registerForm.pPassword\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"姓名\" label-width=\"80px\" prop=\"pName\">\n          <el-input v-model=\"registerForm.pName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"出生日期\" label-width=\"80px\" prop=\"pBirthday\">\n          <el-date-picker\n            v-model=\"registerForm.pBirthday\"\n            type=\"date\"\n            placeholder=\"选择日期\"\n            value-format=\"yyyy-MM-dd\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"手机号\" label-width=\"80px\" prop=\"pPhone\">\n          <el-input v-model=\"registerForm.pPhone\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱号\" label-width=\"80px\" prop=\"pEmail\">\n          <el-input v-model=\"registerForm.pEmail\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"身份证号\" label-width=\"80px\" prop=\"pCard\">\n          <el-input v-model=\"registerForm.pCard\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"registerFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"registerClick('registerForm')\"\n        >确 定\n        </el-button\n        >\n      </div>\n    </el-dialog>\n\n  </div>\n\n</template>\n\n<script>\nimport request from \"@/utils/request.js\";\nimport { setToken } from \"@/utils/storage.js\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    // 生成随机验证码\n    const generateCaptcha = () => {\n      const chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';\n      let captcha = '';\n      for(let i = 0; i < 4; i++) {\n        captcha += chars.charAt(Math.floor(Math.random() * chars.length));\n      }\n      return captcha;\n    };\n\n    // 验证码校验规则\n    const validateCaptcha = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请输入验证码'));\n      } else if (value.toLowerCase() !== this.generatedCaptcha.toLowerCase()) {\n        callback(new Error('验证码不正确'));\n      } else {\n        callback();\n      }\n    };\n\n    var validateMoblie = (rule, value, callback) => {\n      if (value === undefined) {\n        callback(new Error(\"请输入手机号\"));\n      } else {\n        let reg = /^1(3[0-9]|4[5,7]|5[0,1,2,3,5,6,7,8,9]|6[2,5,6,7]|7[0,1,7,8]|8[0-9]|9[1,8,9])\\d{8}$/;\n        if (!reg.test(value)) {\n          callback(new Error(\"请输入合法的手机号\"));\n        }\n        callback();\n      }\n    };\n    var validateCard = (rule, value, callback) => {\n      if (value === undefined) {\n        callback(new Error(\"请输入身份证号\"));\n      } else {\n        let reg = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/;\n        if (!reg.test(value)) {\n          callback(new Error(\"请输入合法的身份证号码\"));\n        }\n        callback();\n      }\n    };\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.findForm.checkPassword !== \"\") {\n          this.$refs.findForm.validateField(\"checkPassword\");\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.findForm.newPassword) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      // 生成初始验证码\n      generatedCaptcha: generateCaptcha(),\n      //背景图片\n      backgroundDiv: {\n        backgroundImage: \"url(\" + require(\"../assets/doctor.jpg\") + \")\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"100% 100%\"\n      },\n      loginForm: {\n        id: \"202501\",\n        password: \"admin\",\n        captcha: \"\"\n      },\n      loginRules: {\n        id: [\n          { required: true, message: \"请输入账号编号\", trigger: \"blur\" },\n          { min: 3, max: 50, message: \"长度在 3到 50 个字符\", trigger: \"blur\" }\n        ],\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\n        captcha: [\n          { validator: validateCaptcha, trigger: \"blur\" }]\n      },\n      role: \"患者\",\n      findRole: \"患者\",\n      //找回密码\n      findFormVisible: false,\n      findForm: {\n        code: \"\",\n        newPassword: \"\",\n        checkPassword: \"\",\n        pEmail: \"\"\n      },\n\n      findRules: {\n        pEmail: [\n          { required: true, message: \"请输入邮箱地址\", trigger: \"blur\" },\n          {\n            type: \"email\",\n            message: \"请输入正确的邮箱地址\",\n            trigger: [\"blur\", \"change\"]\n          }\n        ],\n        code: [{ required: true, message: \"请输入验证码\", trigger: \"blur\" }],\n        newPassword: [{ validator: validatePass, trigger: \"blur\" }],\n        checkPassword: [{ validator: validatePass2, trigger: \"blur\" }]\n      },\n      totalTime: 60,\n      content: \"发送验证码\",\n      canClick: true,\n      //注册\n      registerFormVisible: false,\n      registerForm: {\n        pGender: \"男\"\n      },\n      registerRules: {\n        pId: [\n          { required: true, message: \"请输入账号\", trigger: \"blur\" },\n          { type: \"number\", message: \"账号必须数字类型\", trigger: \"blur\" }\n        ],\n        pPassword: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\n          { min: 4, max: 50, message: \"长度在 4到 50 个字符\", trigger: \"blur\" }\n        ],\n        pName: [\n          { required: true, message: \"请输入姓名\", trigger: \"blur\" },\n          { min: 2, max: 8, message: \"长度在 2到 8 个字符\", trigger: \"blur\" }\n        ],\n        pEmail: [\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\n          {\n            type: \"email\",\n            message: \"请输入正确的邮箱地址\",\n            trigger: [\"blur\", \"change\"]\n          }\n        ],\n        pPhone: [{ validator: validateMoblie }],\n        pCard: [{ validator: validateCard }],\n        pBirthday: [\n          { required: true, message: \"选择出生日期\", trigger: \"blur\" }\n        ]\n      }\n    };\n  },\n  methods: {\n    // 刷新验证码\n    refreshCaptcha() {\n      this.generatedCaptcha = this.generateCaptcha();\n    },\n\n    // 生成验证码方法\n    generateCaptcha() {\n      const chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';\n      let captcha = '';\n      for(let i = 0; i < 4; i++) {\n        captcha += chars.charAt(Math.floor(Math.random() * chars.length));\n      }\n      return captcha;\n    },\n\n    //点击注册确认按钮\n    registerClick(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          request\n            .get(\"patient/addPatient\", {\n              params: {\n                pId: this.registerForm.pId,\n                pName: this.registerForm.pName,\n                pPassword: this.registerForm.pPassword,\n                pGender: this.registerForm.pGender,\n                pEmail: this.registerForm.pEmail,\n                pPhone: this.registerForm.pPhone,\n                pCard: this.registerForm.pCard,\n                pBirthday: this.registerForm.pBirthday\n              }\n            })\n            .then(res => {\n              if (res.data.status !== 200)\n                return this.$message.error(\"账号或邮箱已被占用！\");\n              this.registerFormVisible = false;\n              this.$message.success(\"注册成功！\");\n              console.log(res);\n            });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    // 点击找回密码确认按钮\n    findPassword(findForm) {\n      this.$refs[findForm].validate(valid => {\n        if (valid) {\n          //如果是选中患者\n          if (this.findRole === \"患者\") {\n            request\n              .get(\"patient/findPassword\", {\n                params: {\n                  pEmail: this.findForm.pEmail,\n                  pPassword: this.findForm.newPassword,\n                  code: this.findForm.code\n                }\n              })\n              .then(res => {\n                if (res.data.status !== 200)\n                  return this.$message.error(\"验证码错误或者已过期！！！\");\n                this.$message.success(\"密码修改成功！！请登录\");\n                this.findFormVisible = false;\n              });\n          }\n          //如果是选中管理员\n          if (this.findRole === \"管理员\") {\n            request\n              .get(\"admin/findPassword\", {\n                params: {\n                  aEmail: this.findForm.pEmail,\n                  aPassword: this.findForm.newPassword,\n                  code: this.findForm.code\n                }\n              })\n              .then(res => {\n                if (res.data.status !== 200)\n                  return this.$message.error(\"验证码错误或者已过期！！！\");\n                this.$message.success(\"密码修改成功！！请登录\");\n                this.findFormVisible = false;\n              });\n          }\n          //如果是选中患者\n          if (this.findRole === \"医生\") {\n            request\n              .get(\"doctor/findPassword\", {\n                params: {\n                  dEmail: this.findForm.pEmail,\n                  dPassword: this.findForm.newPassword,\n                  code: this.findForm.code\n                }\n              })\n              .then(res => {\n                if (res.data.status !== 200)\n                  return this.$message.error(\"验证码错误或者已过期！！！\");\n                this.$message.success(\"密码修改成功！！请登录\");\n                this.findFormVisible = false;\n              });\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    //点击发送验证码按钮\n    sendEmail() {\n      //倒计时\n      if (!this.canClick) return; //改动的是这两行代码\n      this.canClick = false;\n      this.content = this.totalTime + \"s后重新发送\";\n      let clock = window.setInterval(() => {\n        this.totalTime--;\n        this.content = this.totalTime + \"s后重新发送\";\n        if (this.totalTime < 0) {\n          window.clearInterval(clock);\n          this.content = \"重新发送验证码\";\n          this.totalTime = 10;\n          this.canClick = true; //这里重新开启\n        }\n      }, 1000);\n\n      //如果是选中患者\n      if (this.findRole === \"患者\") {\n        request\n          .get(\"patient/sendEmail\", {\n            params: {\n              pEmail: this.findForm.pEmail\n            }\n          })\n          .then(res => {\n            console.log(this.findForm.pEmail);\n            console.log(res);\n            if (res.data.status !== 200)\n              return this.$message.error(\"该邮箱暂未注册！请先注册！\");\n            this.$message.success(\"验证码发送成功！\");\n          });\n      }\n      //如果是选中管理员\n      if (this.findRole === \"管理员\") {\n        request\n          .get(\"admin/sendEmail\", {\n            params: {\n              aEmail: this.findForm.pEmail\n            }\n          })\n          .then(res => {\n            console.log(this.findForm.pEmail);\n            console.log(res);\n            if (res.data.status !== 200)\n              return this.$message.error(\"该邮箱暂未注册！请先注册！\");\n            this.$message.success(\"验证码发送成功！\");\n          });\n      }\n      //如果是选中医生\n      if (this.findRole === \"医生\") {\n        request\n          .get(\"doctor/sendEmail\", {\n            params: {\n              dEmail: this.findForm.pEmail\n            }\n          })\n          .then(res => {\n            console.log(this.findForm.pEmail);\n            console.log(res);\n            if (res.data.status !== 200)\n              return this.$message.error(\"该邮箱暂未注册！请先注册！\");\n            this.$message.success(\"验证码发送成功！\");\n          });\n      }\n    },\n    //提交表单\n    submitLoginForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          if (this.role === \"管理员\") {\n            var params = new URLSearchParams();\n            params.append(\"aId\", this.loginForm.id);\n            params.append(\"aPassword\", this.loginForm.password);\n\n            request\n              .post(\"admin/login\", params)\n              .then(res => {\n                console.log(res);\n                if (res.data.status != 200)\n                  return this.$message.error(\"用户名或密码错误\");\n                setToken(res.data.data.token);\n                this.$router.push(\"/adminLayout\");\n              })\n              .catch(err => {\n                this.$message.error(\"用户名或密码错误\");\n                console.error(err);\n              });\n          }\n          if (this.role === \"医生\") {\n            var params1 = new URLSearchParams();\n            params1.append(\"dId\", this.loginForm.id);\n            params1.append(\"dPassword\", this.loginForm.password);\n\n            request\n              .post(\"doctor/login\", params1)\n              .then(res => {\n                console.log(res);\n                if (res.data.status != 200)\n                  return this.$message.error(\"用户名或密码错误\");\n                setToken(res.data.data.token);\n                this.$router.push(\"/doctorLayout\");\n              })\n              .catch(err => {\n                this.$message.error(\"用户名或密码错误\");\n                console.error(err);\n              });\n          }\n          if (this.role === \"患者\") {\n            var params2 = new URLSearchParams();\n            params2.append(\"pId\", this.loginForm.id);\n            params2.append(\"pPassword\", this.loginForm.password);\n\n            request\n              .post(\"patient/login\", params2)\n              .then(res => {\n                console.log(res);\n                if (res.data.status != 200)\n                  return this.$message.error(\"用户名或密码错误\");\n                setToken(res.data.data.token);\n                this.$router.push(\"/patientLayout\");\n              })\n              .catch(err => {\n                this.$message.error(\"用户名或密码错误\");\n                console.error(err);\n              });\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    }\n  },\n  mounted() {\n    this.refreshCaptcha();\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.login-wrap {\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-image:  url('../assets/img/login-bg.png');\n  boder-radius: 15px;\n  background-size: cover;//图片大小\n}\n\n.login-container {\n  display: flex;\n  width:55%;\n  height: 60%;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 15px;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);//阴影\n  margin-left: 600px;\n}\n\n.login-image {\n  flex: 1;\n  padding: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 15px;\n\n  .login-img {\n    width: 130%;\n    height: auto;\n  }\n}\n\n.login-form {\n  flex: 1;\n  padding: 40px 50px;\n\n  .login-title {\n    text-align: center;\n    color: #333;\n    margin-bottom: 30px;\n    font-size: 24px;\n    letter-spacing: 2px;\n  }\n}\n\n.captcha-container {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n\n  .captcha-img {\n    flex: 1;\n    height: 40px;\n    background: #f0f2f5;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 20px;\n    font-weight: bold;\n    color: #333;\n    letter-spacing: 5px;\n    cursor: pointer;\n    transition: all 0.3s;\n\n    &:hover {\n      background: #e6e9ed;\n    }\n  }\n}\n\n.login-btn {\n  width: 100%;\n  height: 45px;\n  font-size: 16px;\n  letter-spacing: 2px;\n}\n\n.role-group {\n  ::v-deep .el-radio-button {\n    margin: 0 5px;\n\n    &__inner {\n      padding: 10px 15px;\n    }\n  }\n}\n\n.login-footer {\n  text-align: center;\n  margin-top: 15px;\n\n  .register-link {\n    color: #0f9876;\n    cursor: pointer;\n    transition: color 0.3s;\n\n    &:hover {\n      color: #0d8269;\n    }\n  }\n}\n</style>\n"]}]}