{"remainingRequest":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Strive\\HOS\\HospitalVue\\src\\views\\DoctorOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Strive\\HOS\\HospitalVue\\src\\views\\DoctorOrder.vue","mtime":1741759593570},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001367240},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1689001368654},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001367240},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001369023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcmVxdWVzdCBmcm9tICJAL3V0aWxzL3JlcXVlc3QuanMiOw0KaW1wb3J0IGp3dERlY29kZSBmcm9tICJqd3QtZGVjb2RlIjsNCmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAiQC91dGlscy9zdG9yYWdlLmpzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkRvY3Rvck9yZGVyIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXNlcklkOiAxLA0KICAgICAgb3JkZXJEYXRhOiBbXSwNCiAgICAgIHBhZ2VOdW1iZXI6IDEsDQogICAgICBzaXplOiA4LA0KICAgICAgcXVlcnk6ICIiLA0KICAgICAgdG90YWw6IDMsDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v54K55Ye76L+96K+K5oyJ6ZKuDQogICAgZGVhbENsaWNrKG9JZCwgcElkKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIHBhdGg6ICIvZGVhbE9yZGVyQWdhaW4iLA0KICAgICAgICBxdWVyeTogew0KICAgICAgICAgIG9JZDogb0lkLA0KICAgICAgICAgIHBJZDogcElkLA0KICAgICAgICB9LA0KICAgICAgfSk7DQogICAgfSwNCiAgICAvL+mhtemdouWkp+Wwj+aUueWPmOaXtuinpuWPkQ0KICAgIGhhbmRsZVNpemVDaGFuZ2Uoc2l6ZSkgew0KICAgICAgY29uc29sZS5sb2coc2l6ZSk7DQogICAgICB0aGlzLnNpemUgPSBzaXplOw0KICAgICAgdGhpcy5yZXF1ZXN0T3JkZXJzKCk7DQogICAgfSwNCiAgICAvLyAgIOmhteeggeaUueWPmOaXtuinpuWPkQ0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UobnVtKSB7DQogICAgICBjb25zb2xlLmxvZyhudW0pOw0KICAgICAgdGhpcy5wYWdlTnVtYmVyID0gbnVtOw0KICAgICAgdGhpcy5yZXF1ZXN0T3JkZXJzKCk7DQogICAgfSwNCg0KICAgIC8v6K+35rGC5oyC5Y+35L+h5oGvDQogICAgcmVxdWVzdE9yZGVycygpIHsNCiAgICAgIHJlcXVlc3QNCiAgICAgICAgLmdldCgib3JkZXIvZmluZE9yZGVyQnlEaWQiLCB7DQogICAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgICBkSWQ6IHRoaXMudXNlcklkLA0KICAgICAgICAgICAgcGFnZU51bWJlcjogdGhpcy5wYWdlTnVtYmVyLA0KICAgICAgICAgICAgc2l6ZTogdGhpcy5zaXplLA0KICAgICAgICAgICAgcXVlcnk6IHRoaXMucXVlcnksDQogICAgICAgICAgfSwNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+axguaVsOaNruWksei0pSIpOw0KICAgICAgICAgIHRoaXMub3JkZXJEYXRhID0gcmVzLmRhdGEuZGF0YS5vcmRlcnM7DQogICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmRhdGEudG90YWw7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgLy90b2tlbuino+eggQ0KICAgIHRva2VuRGVjb2RlKHRva2VuKSB7DQogICAgICBpZiAodG9rZW4gIT09IG51bGwpIHJldHVybiBqd3REZWNvZGUodG9rZW4pOw0KICAgIH0sDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgLy8g6Kej56CBdG9rZW4NCiAgICAvL3RoaXMub3JkZXJEYXRhLnBOYW1lID0gdGhpcy50b2tlbkRlY29kZShnZXRUb2tlbigpKS5wTmFtZTsNCiAgICAvL3RoaXMub3JkZXJEYXRhLnBDYXJkID0gdGhpcy50b2tlbkRlY29kZShnZXRUb2tlbigpKS5wQ2FyZDsNCiAgICB0aGlzLnVzZXJJZCA9IHRoaXMudG9rZW5EZWNvZGUoZ2V0VG9rZW4oKSkuZElkOw0KICAgIGNvbnNvbGUubG9nKHRoaXMub3JkZXJEYXRhLnBOYW1lKTsNCiAgICAvL3RoaXMub3JkZXJEYXRhLnBOYW1lID0gImRhc2RhIg0KICAgIHRoaXMucmVxdWVzdE9yZGVycygpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["DoctorOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DoctorOrder.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <!-- 医生-历史挂号页面 -->\r\n  <div>\r\n    <el-card class=\"order-card\" shadow=\"hover\">\r\n      <!-- 搜索栏 -->\r\n      <el-row type=\"flex\" class=\"search-row\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"query\" placeholder=\"请输入患者id查询\" class=\"query-input\">\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n              @click=\"requestOrders\"\r\n            ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-table :data=\"orderData\" stripe style=\"width: 100%\" border class=\"order-table\">\r\n        <el-table-column\r\n          prop=\"oId\"\r\n          label=\"挂号单号\"\r\n          width=\"100px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"dId\"\r\n          label=\"本人id\"\r\n          width=\"100px\"\r\n        ></el-table-column>\r\n        <el-table-column prop=\"pId\" label=\"患者id\" width=\"120px\"></el-table-column>\r\n        <el-table-column\r\n          prop=\"oStart\"\r\n          label=\"挂号时间\"\r\n          width=\"190px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"oEnd\"\r\n          label=\"结束时间\"\r\n          width=\"190px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"oRecord\"\r\n          label=\"病因\"\r\n          width=\"400px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"oDrug\"\r\n          label=\"药物\"\r\n          width=\"180px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"oCheck\"\r\n          label=\"检查项目\"\r\n          width=\"180px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"oTotalPrice\"\r\n          label=\"需交费用/元\"\r\n          width=\"100px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"oPriceState\"\r\n          label=\"缴费状态\"\r\n          width=\"120px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <el-tag\r\n              type=\"success\"\r\n              v-if=\"scope.row.oPriceState === 1\"\r\n            >已缴费</el-tag\r\n            >\r\n            <el-tag\r\n              type=\"danger\"\r\n              v-else>未缴费</el-tag\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"挂号状态\" width=\"120px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag\r\n              type=\"success\"\r\n              v-if=\"scope.row.oState === 1 && scope.row.oPriceState === 1\"\r\n            >已完成</el-tag\r\n            >\r\n            <el-tag\r\n              type=\"danger\"\r\n              v-if=\"scope.row.oState === 0\"\r\n            >未完成</el-tag\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"140\" fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"warning\"\r\n              icon=\"el-icon-edit\"\r\n              style=\"font-size: 14px\"\r\n              @click=\"dealClick(scope.row.oId, scope.row.pId)\"\r\n              v-if=\"scope.row.oState === 1 && scope.row.oPriceState === 1\"\r\n            >追诊</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        background\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :current-page=\"pageNumber\"\r\n        :page-size=\"size\"\r\n        :page-sizes=\"[1, 2, 4, 8, 16]\"\r\n        :total=\"total\"\r\n        class=\"pagination\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.order-card {\r\n  margin: 20px 0;\r\n  padding: 20px;\r\n  background-color: #f5f7fa; /* 清新背景色 */\r\n}\r\n\r\n.search-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.query-input {\r\n  background-color: #ffffff; /* 输入框背景色 */\r\n}\r\n\r\n.order-table {\r\n  background-color: #ffffff; /* 表格背景色 */\r\n  border-radius: 8px; /* 圆角样式 */\r\n}\r\n\r\n.pagination {\r\n  margin-top: 20px; /* 分页间距 */\r\n}\r\n</style>\r\n\r\n<script>\r\nimport request from \"@/utils/request.js\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport { getToken } from \"@/utils/storage.js\";\r\nexport default {\r\n  name: \"DoctorOrder\",\r\n  data() {\r\n    return {\r\n      userId: 1,\r\n      orderData: [],\r\n      pageNumber: 1,\r\n      size: 8,\r\n      query: \"\",\r\n      total: 3,\r\n    };\r\n  },\r\n  methods: {\r\n    //点击追诊按钮\r\n    dealClick(oId, pId) {\r\n      this.$router.push({\r\n        path: \"/dealOrderAgain\",\r\n        query: {\r\n          oId: oId,\r\n          pId: pId,\r\n        },\r\n      });\r\n    },\r\n    //页面大小改变时触发\r\n    handleSizeChange(size) {\r\n      console.log(size);\r\n      this.size = size;\r\n      this.requestOrders();\r\n    },\r\n    //   页码改变时触发\r\n    handleCurrentChange(num) {\r\n      console.log(num);\r\n      this.pageNumber = num;\r\n      this.requestOrders();\r\n    },\r\n\r\n    //请求挂号信息\r\n    requestOrders() {\r\n      request\r\n        .get(\"order/findOrderByDid\", {\r\n          params: {\r\n            dId: this.userId,\r\n            pageNumber: this.pageNumber,\r\n            size: this.size,\r\n            query: this.query,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          if (res.data.status !== 200)\r\n            this.$message.error(\"请求数据失败\");\r\n          this.orderData = res.data.data.orders;\r\n          this.total = res.data.data.total;\r\n        });\r\n    },\r\n    //token解码\r\n    tokenDecode(token) {\r\n      if (token !== null) return jwtDecode(token);\r\n    },\r\n  },\r\n  created() {\r\n    // 解码token\r\n    //this.orderData.pName = this.tokenDecode(getToken()).pName;\r\n    //this.orderData.pCard = this.tokenDecode(getToken()).pCard;\r\n    this.userId = this.tokenDecode(getToken()).dId;\r\n    console.log(this.orderData.pName);\r\n    //this.orderData.pName = \"dasda\"\r\n    this.requestOrders();\r\n  },\r\n};\r\n</script>"]}]}