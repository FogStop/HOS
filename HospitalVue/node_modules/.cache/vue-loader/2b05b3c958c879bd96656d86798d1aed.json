{"remainingRequest":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Strive\\HOS\\HospitalVue\\src\\views\\SectionMessage.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Strive\\HOS\\HospitalVue\\src\\views\\SectionMessage.vue","mtime":1741755326683},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001367240},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1689001368654},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001367240},{"path":"E:\\Strive\\HOS\\HospitalVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001369023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBqd3REZWNvZGUgZnJvbSAiand0LWRlY29kZSI7CmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdC5qcyI7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAiQC91dGlscy9zdG9yYWdlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJzZWN0aW9uTWVzc2FnZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlY3Rpb25PcHQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LnNlY3Rpb25PcHQsCiAgICAgIHNlY3Rpb25EYXRhOiBbXSwKICAgICAgbW9udGhEYXlzOiBbXSwKICAgICAgY2xpY2tUYWc6IGZhbHNlLAogICAgICBvcmRlckZvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgb3JkZXJGb3JtOiB7IG9yZGVyRGF0ZTogIiIgfSwKICAgICAgdGltZXM6IFtdLAogICAgICBvcmRlclJ1bGVzOiB7CiAgICAgICAgb1RpbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLpgInmi6nml7bpl7TmrrUiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICBdLAogICAgICB9LAogICAgICAvL+aMguWPt+aXpeacnwogICAgICBvcmRlckRhdGU6ICIiLAogICAgICAvL+aLvOaOpeaXtumXtOWSjOaXpeacn+aIkOS4um9JZAogICAgICBpZFRpbWU6ICIiLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5omT5byA5oyC5Y+35a+56K+d5qGG6Kem5Y+RLOiOt+WPluaMguWPt+aXtumXtOauteW3suWJqeS9meelqOaVsAogICAgcmVxdWVzdFRpbWUoaWQpIHsKICAgICAgdGhpcy5pZFRpbWUgPSBpZCArIHRoaXMub3JkZXJEYXRlOwogICAgICByZXF1ZXN0CiAgICAgICAgLmdldCgib3JkZXIvZmluZE9yZGVyVGltZSIsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBhcklkOiB0aGlzLmlkVGltZSwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodGhpcy5vcmRlckRhdGUpOwogICAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgY29uc3QgaXNUb2RheSA9CiAgICAgICAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSA9PT0gdG9kYXkuZ2V0RnVsbFllYXIoKSAmJgogICAgICAgICAgICBkYXRlLmdldE1vbnRoKCkgPT09IHRvZGF5LmdldE1vbnRoKCkgJiYKICAgICAgICAgICAgZGF0ZS5nZXREYXRlKCkgPT09IHRvZGF5LmdldERhdGUoKTsKICAgICAgICAgIHZhciBhcnJheSA9IFtdOwogICAgICAgICAgaWYgKCF0aGlzLmlzVGltZUFmdGVyVGFyZ2V0KCIwOTozMCIpIHx8ICFpc1RvZGF5KSB7CiAgICAgICAgICAgIGFycmF5LnB1c2goCiAgICAgICAgICAgICAgIjA4OjMwLTA5OjMwICAiICsgIiAgIOS9meWPtyAiICsgcmVzLmRhdGEuZGF0YS5lVE9uCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIXRoaXMuaXNUaW1lQWZ0ZXJUYXJnZXQoIjEwOjMwIikgfHwgIWlzVG9kYXkpIHsKICAgICAgICAgICAgYXJyYXkucHVzaCgKICAgICAgICAgICAgICAiMDk6MzAtMTA6MzAgICIgKyAiICAg5L2Z5Y+3ICIgKyByZXMuZGF0YS5kYXRhLm5UT3QKICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghdGhpcy5pc1RpbWVBZnRlclRhcmdldCgiMTE6MzAiKSB8fCAhaXNUb2RheSkgewogICAgICAgICAgICBhcnJheS5wdXNoKAogICAgICAgICAgICAgICIxMDozMC0xMTozMCAgIiArICIgICDkvZnlj7cgIiArIHJlcy5kYXRhLmRhdGEudFRPZQogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCF0aGlzLmlzVGltZUFmdGVyVGFyZ2V0KCIxNTozMCIpIHx8ICFpc1RvZGF5KSB7CiAgICAgICAgICAgIGFycmF5LnB1c2goCiAgICAgICAgICAgICAgIjE0OjMwLTE1OjMwICAiICsgIiAgIOS9meWPtyAiICsgcmVzLmRhdGEuZGF0YS5mVE9mCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIXRoaXMuaXNUaW1lQWZ0ZXJUYXJnZXQoIjE2OjMwIikgfHwgIWlzVG9kYXkpIHsKICAgICAgICAgICAgYXJyYXkucHVzaCgKICAgICAgICAgICAgICAiMTU6MzAtMTY6MzAgICIgKyAiICAg5L2Z5Y+3ICIgKyByZXMuZGF0YS5kYXRhLmZUT3MKICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghdGhpcy5pc1RpbWVBZnRlclRhcmdldCgiMTc6MzAiKSB8fCAhaXNUb2RheSkgewogICAgICAgICAgICBhcnJheS5wdXNoKAogICAgICAgICAgICAgICIxNjozMC0xNzozMCAgIiArICIgICDkvZnlj7cgIiArIHJlcy5kYXRhLmRhdGEuc1RPcwogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy50aW1lcyA9IGFycmF5OwogICAgICAgIH0pOwogICAgfSwKICAgIGlzVGltZUFmdGVyVGFyZ2V0KHRpbWVTdHJpbmcpIHsKICAgICAgLy8g5Yik5pat5pe26Ze05piv5ZCm6LaF6L+HdGltZVN0cmluZyjlhaXlj4LmoLzlvI/lpoLvvJowOTozMCkKICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpOwoKICAgICAgLy8g6Kej5p6Q5Lyg5YWl55qE55uu5qCH5pe26Ze05a2X56ym5Liy77yM6I635Y+W5bCP5pe25ZKM5YiG6ZKfCiAgICAgIGNvbnN0IFt0YXJnZXRIb3VyLCB0YXJnZXRNaW51dGVdID0gdGltZVN0cmluZy5zcGxpdCgiOiIpOwoKICAgICAgLy8g6K6+572u6KaB5q+U6L6D55qE5pe26Ze0CiAgICAgIGNvbnN0IHRhcmdldFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICB0YXJnZXRUaW1lLnNldEhvdXJzKHRhcmdldEhvdXIpOwogICAgICB0YXJnZXRUaW1lLnNldE1pbnV0ZXModGFyZ2V0TWludXRlKTsKICAgICAgdGFyZ2V0VGltZS5zZXRTZWNvbmRzKDApOwoKICAgICAgLy8g5q+U6L6D5b2T5YmN5pe26Ze05piv5ZCm6LaF6L+H5LqG55uu5qCH5pe26Ze0CiAgICAgIHJldHVybiBjdXJyZW50VGltZSA+IHRhcmdldFRpbWU7CiAgICB9LAogICAgLy/mjILlj7fngrnlh7vnoa7orqQKICAgIG9yZGVyU3VjY2Vzcyhmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHJlcXVlc3QKICAgICAgICAgICAgLmdldCgicGF0aWVudC9hZGRPcmRlciIsIHsKICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgIHBJZDogdGhpcy5vcmRlckZvcm0ucElkLAogICAgICAgICAgICAgICAgZElkOiB0aGlzLm9yZGVyRm9ybS5kSWQsCiAgICAgICAgICAgICAgICBvU3RhcnQ6CiAgICAgICAgICAgICAgICAgIHRoaXMub3JkZXJGb3JtLm9yZGVyRGF0ZSArCiAgICAgICAgICAgICAgICAgICIgIiArCiAgICAgICAgICAgICAgICAgIHRoaXMub3JkZXJGb3JtLm9UaW1lLAogICAgICAgICAgICAgICAgYXJJZDogdGhpcy5pZFRpbWUsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT0gMjAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoCiAgICAgICAgICAgICAgICAgICLor6Xml7bpl7TmrrXml6DliankvZnlj7fmupDvvIHor7fph43mlrDpgInmi6nvvIEiCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIHRoaXMub3JkZXJGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5oyC5Y+35oiQ5Yqf77yBIik7CiAgICAgICAgICAgICAgdGhpcy5vcmRlckZvcm0ub1RpbWUgPSAnJzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBzdWJtaXQhISIpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy90b2tlbuino+eggQogICAgdG9rZW5EZWNvZGUodG9rZW4pIHsKICAgICAgaWYgKHRva2VuICE9PSBudWxsKSByZXR1cm4gand0RGVjb2RlKHRva2VuKTsKICAgIH0sCiAgICAvL+aJk+W8gOaMguWPt+WvueivneahhgogICAgb3BlbkNsaWNrKGlkLCBuYW1lKSB7CiAgICAgIHRoaXMub3JkZXJGb3JtLmRJZCA9IGlkOwogICAgICB0aGlzLm9yZGVyRm9ybS5kTmFtZSA9IG5hbWU7CiAgICAgIHRoaXMub3JkZXJGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIC8v6K+35rGC5oyC5Y+35pe26Ze05q61CiAgICAgIHRoaXMucmVxdWVzdFRpbWUoaWQpOwogICAgfSwKICAgIC8v6YCJ5oup5pel5pyf6Kem5Y+R5pe26Ze0CiAgICBkYXRlQ2xpY2soZGF0ZSkgewogICAgICAvL+iOt+WPluaMguWPt+W5tOaciOaXpQogICAgICBjb25zdCBub3dEYXRlID0gbmV3IERhdGUoKTsKICAgICAgbGV0IHllYXIgPSBub3dEYXRlLmdldEZ1bGxZZWFyKCk7CiAgICAgIHRoaXMub3JkZXJGb3JtLm9yZGVyRGF0ZSA9IHllYXIgKyAiLSIgKyBkYXRlOwogICAgICBsZXQgZGF0ZVllYXIgPSB5ZWFyICsgIi0iICsgZGF0ZTsKICAgICAgdGhpcy5vcmRlckRhdGUgPSBkYXRlWWVhcjsKICAgICAgcmVxdWVzdAogICAgICAgIC5nZXQoIi9hcnJhbmdlL2ZpbmRCeVRpbWUiLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgYXJUaW1lOiBkYXRlWWVhciwKICAgICAgICAgICAgZFNlY3Rpb246IHRoaXMuc2VjdGlvbk9wdCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAvL3RoaXMuc2VjdGlvbkRhdGEuZElkID0gcmVzLmRhdGEuZGF0YS5kb2N0b3JzLmRJZDsKICAgICAgICAgIC8qKgogICAgICAgICAgICog6YeN54K577yB77yB77yB5oqK5pWw57uE5Lit55qE5a+56LGh5Y+W5Ye65p2l55SobWFwCiAgICAgICAgICAgKi8KICAgICAgICAgIHRoaXMuc2VjdGlvbkRhdGEgPSByZXMuZGF0YS5kYXRhLm1hcCgoaXRlbSkgPT4gaXRlbS5kb2N0b3IpOwogICAgICAgICAgdGhpcy5jbGlja1RhZyA9IHRydWU7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5kYXRhLm1hcCgoaXRlbSkgPT4gaXRlbS5kb2N0b3IpKTsKICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzLmRhdGEuZGF0YVswXS5kb2N0b3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W5b2T5aSp5Y+K5ZCON+WkqeeahOaXpeacn+aYn+acnwogICAgbm93RGF5KG51bSkgewogICAgICB2YXIgbm93RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBjdXJyZW50SG91ciA9IG5vd0RhdGUuZ2V0SG91cnMoKTsKICAgICAgdmFyIGN1cnJlbnRNaW51dGUgPSBub3dEYXRlLmdldE1pbnV0ZXMoKTsKCiAgICAgIC8vIOWIpOaWreW9k+WJjeaXtumXtOaYr+WQpuW3sue7j+i/h+S6hjE3OjMwCiAgICAgIGlmICgKICAgICAgICBjdXJyZW50SG91ciA+IDE3IHx8CiAgICAgICAgKGN1cnJlbnRIb3VyID09PSAxNyAmJiBjdXJyZW50TWludXRlID4gMzApCiAgICAgICkgewogICAgICAgIG51bSsrOyAvLyDmrKHml6UKICAgICAgfQoKICAgICAgbm93RGF0ZS5zZXREYXRlKG5vd0RhdGUuZ2V0RGF0ZSgpICsgbnVtKTsKICAgICAgdmFyIG1vbnRoID0gbm93RGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgdmFyIGRhdGUgPSBub3dEYXRlLmdldERhdGUoKTsKICAgICAgaWYgKGRhdGUgPCAxMCkgewogICAgICAgIGRhdGUgPSAiMCIgKyBkYXRlOwogICAgICB9CiAgICAgIGlmIChtb250aCA8IDEwKSB7CiAgICAgICAgbW9udGggPSAiMCIgKyBtb250aDsKICAgICAgfQogICAgICB2YXIgdGltZSA9IG1vbnRoICsgIi0iICsgZGF0ZTsKICAgICAgdGhpcy5tb250aERheXMucHVzaCh0aW1lKTsKICAgIH0sCiAgICAvL+ivt+axgumDqOmXqOWMu+eUn+S/oeaBrwogICAgcmVxdWVzdFNlY3Rpb24oKSB7CiAgICAgIHJlcXVlc3QKICAgICAgICAuZ2V0KCJwYXRpZW50L2ZpbmREb2N0b3JCeVNlY3Rpb24iLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgZFNlY3Rpb246IHRoaXMuJHJvdXRlLnF1ZXJ5LnNlY3Rpb25PcHQsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPT0gMjAwKQogICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+35rGC5pWw5o2u5aSx6LSlIik7CiAgICAgICAgICB0aGlzLnNlY3Rpb25EYXRhID0gcmVzLmRhdGEuZGF0YS5kb2N0b3JzOwogICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuZGF0YS5kb2N0b3JzKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgLy/ojrflj5blvZPlpKnnmoTlkI435aSpCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDc7IGkrKykgewogICAgICB0aGlzLm5vd0RheShpKTsKICAgIH0KICAgIC8v5oyJ56eR5a6k6K+35rGC5Yy755Sf5L+h5oGvCiAgICB0aGlzLnJlcXVlc3RTZWN0aW9uKCk7CiAgICAvLyDop6PnoIF0b2tlbgogICAgdGhpcy5vcmRlckZvcm0ucE5hbWUgPSB0aGlzLnRva2VuRGVjb2RlKGdldFRva2VuKCkpLnBOYW1lOwogICAgdGhpcy5vcmRlckZvcm0ucENhcmQgPSB0aGlzLnRva2VuRGVjb2RlKGdldFRva2VuKCkpLnBDYXJkOwogICAgdGhpcy5vcmRlckZvcm0ucElkID0gdGhpcy50b2tlbkRlY29kZShnZXRUb2tlbigpKS5wSWQ7CiAgICAvL2NvbnNvbGUubG9nKHRoaXMub3JkZXJGb3JtLnBJZCkKICB9LAp9Owo="},{"version":3,"sources":["SectionMessage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SectionMessage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <el-card class=\"appointment-card\">\n      <!-- 面包屑 -->\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/orderOperate' }\">科室选择</el-breadcrumb-item>\n        <el-breadcrumb-item>日期选择</el-breadcrumb-item>\n        <el-breadcrumb-item>挂号</el-breadcrumb-item>\n      </el-breadcrumb>\n\n      <el-divider></el-divider>\n\n      <!-- 医生列表 -->\n      <div class=\"doctor-list-header\">\n        <i class=\"iconfont icon-r-user1\" style=\"font-size: 26px\">\n          {{ sectionOpt }} 医生列表\n        </i>\n      </div>\n\n      <div class=\"date-selection\">\n        <i class=\"iconfont icon-r-paper\" style=\"font-size: 22px\"> 请选择挂号日期：</i>\n        <ul class=\"dateUl\">\n          <li v-for=\"monthDay in monthDays\" :key=\"monthDay\">\n            <el-button\n              type=\"primary\"\n              @click=\"dateClick(monthDay)\"\n              class=\"date-button\"\n            >{{ monthDay }}</el-button\n            >\n          </li>\n        </ul>\n      </div>\n\n      <!-- 医生信息表格 -->\n      <el-table :data=\"sectionData\" stripe style=\"width: 100%\" border>\n        <el-table-column type=\"index\" label=\"序号\" width=\"60\"></el-table-column>\n        <el-table-column prop=\"dId\" label=\"工号\" width=\"80\"></el-table-column>\n        <el-table-column prop=\"dName\" label=\"姓名\" width=\"80\"></el-table-column>\n        <el-table-column prop=\"dGender\" label=\"性别\" width=\"60\"></el-table-column>\n        <el-table-column prop=\"dPost\" label=\"职位\" width=\"100\"></el-table-column>\n        <el-table-column prop=\"dSection\" label=\"科室\" width=\"100\"></el-table-column>\n        <el-table-column prop=\"dPrice\" label=\"挂号费用(元)\" width=\"120\"></el-table-column>\n        <el-table-column prop=\"dAvgStar\" label=\"评价(分)\" width=\"80\"></el-table-column>\n        <el-table-column label=\"操作\" width=\"140\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"warning\"\n              @click=\"openClick(scope.row.dId, scope.row.dName)\"\n              class=\"appointment-button\"\n            >挂号</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n\n    <!-- 挂号对话框 -->\n    <el-dialog title=\"填写挂号信息\" :visible.sync=\"orderFormVisible\">\n      <el-form :model=\"orderForm\" ref=\"orderForm\" :rules=\"orderRules\">\n        <el-form-item label=\"挂号时间段\" prop=\"oTime\">\n          <el-select v-model=\"orderForm.oTime\" placeholder=\"请选择\">\n            <el-option v-for=\"time in times\" :key=\"time\" :label=\"time\" :value=\"time\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"挂号日期\">\n          <el-input v-model=\"orderForm.orderDate\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"医生工号\">\n          <el-input v-model=\"orderForm.dId\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"医生姓名\">\n          <el-input v-model=\"orderForm.dName\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"患者姓名\">\n          <el-input v-model=\"orderForm.pName\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"患者身份证号\">\n          <el-input v-model=\"orderForm.pCard\" disabled></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"orderFormVisible = false\" class=\"cancel-button\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"orderSuccess('orderForm')\" class=\"confirm-button\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.dateUl {\n  margin: 20px 0;\n}\n.dateUl li {\n  display: inline-block;\n  margin: 5px;\n}\n.appointment-card {\n  margin-top: 20px;\n  padding: 20px;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n}\n.doctor-list-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.iconfont {\n  margin-right: 8px;\n}\n.date-button {\n  transition: background-color 0.3s;\n}\n.date-button:hover {\n  background-color: #30475e; /* Darker primary color */\n}\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n}\n.cancel-button {\n  margin-right: 10px;\n  font-size: 18px;\n}\n.confirm-button {\n  font-size: 18px;\n}\n.el-breadcrumb{\n  margin-bottom: 20px;\n}\n</style>\n\n<script>\nimport jwtDecode from \"jwt-decode\";\nimport request from \"@/utils/request.js\";\nimport { getToken } from \"@/utils/storage.js\";\nexport default {\n  name: \"sectionMessage\",\n  data() {\n    return {\n      sectionOpt: this.$route.query.sectionOpt,\n      sectionData: [],\n      monthDays: [],\n      clickTag: false,\n      orderFormVisible: false,\n      orderForm: { orderDate: \"\" },\n      times: [],\n      orderRules: {\n        oTime: [\n          { required: true, message: \"选择时间段\", trigger: \"blur\" },\n        ],\n      },\n      //挂号日期\n      orderDate: \"\",\n      //拼接时间和日期成为oId\n      idTime: \"\",\n    };\n  },\n  methods: {\n    //打开挂号对话框触发,获取挂号时间段已剩余票数\n    requestTime(id) {\n      this.idTime = id + this.orderDate;\n      request\n        .get(\"order/findOrderTime\", {\n          params: {\n            arId: this.idTime,\n          },\n        })\n        .then((res) => {\n          const date = new Date(this.orderDate);\n          const today = new Date();\n          const isToday =\n            date.getFullYear() === today.getFullYear() &&\n            date.getMonth() === today.getMonth() &&\n            date.getDate() === today.getDate();\n          var array = [];\n          if (!this.isTimeAfterTarget(\"09:30\") || !isToday) {\n            array.push(\n              \"08:30-09:30  \" + \"   余号 \" + res.data.data.eTOn\n            );\n          }\n          if (!this.isTimeAfterTarget(\"10:30\") || !isToday) {\n            array.push(\n              \"09:30-10:30  \" + \"   余号 \" + res.data.data.nTOt\n            );\n          }\n          if (!this.isTimeAfterTarget(\"11:30\") || !isToday) {\n            array.push(\n              \"10:30-11:30  \" + \"   余号 \" + res.data.data.tTOe\n            );\n          }\n          if (!this.isTimeAfterTarget(\"15:30\") || !isToday) {\n            array.push(\n              \"14:30-15:30  \" + \"   余号 \" + res.data.data.fTOf\n            );\n          }\n          if (!this.isTimeAfterTarget(\"16:30\") || !isToday) {\n            array.push(\n              \"15:30-16:30  \" + \"   余号 \" + res.data.data.fTOs\n            );\n          }\n          if (!this.isTimeAfterTarget(\"17:30\") || !isToday) {\n            array.push(\n              \"16:30-17:30  \" + \"   余号 \" + res.data.data.sTOs\n            );\n          }\n          this.times = array;\n        });\n    },\n    isTimeAfterTarget(timeString) {\n      // 判断时间是否超过timeString(入参格式如：09:30)\n      const currentTime = new Date();\n\n      // 解析传入的目标时间字符串，获取小时和分钟\n      const [targetHour, targetMinute] = timeString.split(\":\");\n\n      // 设置要比较的时间\n      const targetTime = new Date();\n      targetTime.setHours(targetHour);\n      targetTime.setMinutes(targetMinute);\n      targetTime.setSeconds(0);\n\n      // 比较当前时间是否超过了目标时间\n      return currentTime > targetTime;\n    },\n    //挂号点击确认\n    orderSuccess(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          request\n            .get(\"patient/addOrder\", {\n              params: {\n                pId: this.orderForm.pId,\n                dId: this.orderForm.dId,\n                oStart:\n                  this.orderForm.orderDate +\n                  \" \" +\n                  this.orderForm.oTime,\n                arId: this.idTime,\n              },\n            })\n            .then((res) => {\n              if (res.data.status != 200)\n                return this.$message.error(\n                  \"该时间段无剩余号源！请重新选择！\"\n                );\n              this.orderFormVisible = false;\n              this.$message.success(\"挂号成功！\");\n              this.orderForm.oTime = '';\n            });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    //token解码\n    tokenDecode(token) {\n      if (token !== null) return jwtDecode(token);\n    },\n    //打开挂号对话框\n    openClick(id, name) {\n      this.orderForm.dId = id;\n      this.orderForm.dName = name;\n      this.orderFormVisible = true;\n      //请求挂号时间段\n      this.requestTime(id);\n    },\n    //选择日期触发时间\n    dateClick(date) {\n      //获取挂号年月日\n      const nowDate = new Date();\n      let year = nowDate.getFullYear();\n      this.orderForm.orderDate = year + \"-\" + date;\n      let dateYear = year + \"-\" + date;\n      this.orderDate = dateYear;\n      request\n        .get(\"/arrange/findByTime\", {\n          params: {\n            arTime: dateYear,\n            dSection: this.sectionOpt,\n          },\n        })\n        .then((res) => {\n          //this.sectionData.dId = res.data.data.doctors.dId;\n          /**\n           * 重点！！！把数组中的对象取出来用map\n           */\n          this.sectionData = res.data.data.map((item) => item.doctor);\n          this.clickTag = true;\n          console.log(res.data.data.map((item) => item.doctor));\n          //console.log(res.data.data[0].doctor);\n        });\n    },\n    //获取当天及后7天的日期星期\n    nowDay(num) {\n      var nowDate = new Date();\n      var currentHour = nowDate.getHours();\n      var currentMinute = nowDate.getMinutes();\n\n      // 判断当前时间是否已经过了17:30\n      if (\n        currentHour > 17 ||\n        (currentHour === 17 && currentMinute > 30)\n      ) {\n        num++; // 次日\n      }\n\n      nowDate.setDate(nowDate.getDate() + num);\n      var month = nowDate.getMonth() + 1;\n      var date = nowDate.getDate();\n      if (date < 10) {\n        date = \"0\" + date;\n      }\n      if (month < 10) {\n        month = \"0\" + month;\n      }\n      var time = month + \"-\" + date;\n      this.monthDays.push(time);\n    },\n    //请求部门医生信息\n    requestSection() {\n      request\n        .get(\"patient/findDoctorBySection\", {\n          params: {\n            dSection: this.$route.query.sectionOpt,\n          },\n        })\n        .then((res) => {\n          if (res.data.status !== 200)\n            return this.$message.error(\"请求数据失败\");\n          this.sectionData = res.data.data.doctors;\n          console.log(res.data.data.doctors);\n        });\n    },\n  },\n  created() {\n    //获取当天的后7天\n    for (var i = 0; i < 7; i++) {\n      this.nowDay(i);\n    }\n    //按科室请求医生信息\n    this.requestSection();\n    // 解码token\n    this.orderForm.pName = this.tokenDecode(getToken()).pName;\n    this.orderForm.pCard = this.tokenDecode(getToken()).pCard;\n    this.orderForm.pId = this.tokenDecode(getToken()).pId;\n    //console.log(this.orderForm.pId)\n  },\n};\n</script>"]}]}